#!/usr/bin/env zsh
# ====================[ posix                              ]====================
#
# --------------------( SYNOPSIS                           )--------------------
# Configure common external commands. Most such commands are POSIX-mandated
# (e.g., "awk", "sed", "grep"); the remainder are merely sufficiently
# commonplace to be effectively mandated (e.g., "less", "mount").

# ....................{ DECLARATIONS                       }....................
string_global_export\
    LESS
list_global_export\
    ZESHY_CHMOD_OPTIONS\
    ZESHY_CHMOD_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_CHMOD_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_CHMOD_OPTIONS_IF_RECURSIVE\
    ZESHY_CHOWN_OPTIONS\
    ZESHY_CHOWN_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_CHOWN_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_CHOWN_OPTIONS_IF_RECURSIVE\
    ZESHY_CP_OPTIONS\
    ZESHY_CP_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_CP_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_CP_OPTIONS_IF_RECURSIVE\
    ZESHY_CP_OPTIONS_IF_DEEP\
    ZESHY_DIFF_OPTIONS\
    ZESHY_DIFF_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_DIFF_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_DIFF_OPTIONS_IF_RECURSIVE\
    ZESHY_DU_OPTIONS\
    ZESHY_DU_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_DU_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_FILE_OPTIONS\
    ZESHY_FILE_OPTIONS_IF_PRINTING_METADATA_SYNOPSIS\
    ZESHY_GREP_OPTIONS\
    ZESHY_GREP_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_GREP_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_GREP_OPTIONS_IF_CASELESS\
    ZESHY_GREP_OPTIONS_IF_RECURSIVE\
    ZESHY_GREP_OPTIONS_IF_SILENT\
    ZESHY_LESS_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_LN_SYMBOLIC_OPTIONS\
    ZESHY_LN_SYMBOLIC_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_LN_SYMBOLIC_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_LS_OPTIONS\
    ZESHY_LS_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_LS_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_LS_OPTIONS_IF_CONCISE\
    ZESHY_LS_OPTIONS_IF_VERBOSE\
    ZESHY_LS_OPTIONS_IF_RECURSIVE\
    ZESHY_MKDIR_OPTIONS\
    ZESHY_MKDIR_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_MKDIR_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_MKDIR_OPTIONS_IF_NOT_FOUND\
    ZESHY_MV_OPTIONS\
    ZESHY_MV_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_MV_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_NL_OPTIONS\
    ZESHY_NL_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_NL_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_PATCH_OPTIONS\
    ZESHY_PATCH_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_PATCH_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_RM_OPTIONS\
    ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE_AND_ARGS_1_TO_3\
    ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE_AND_ARGS_4_OR_MORE\
    ZESHY_RM_OPTIONS_IF_SHELL_NONINTERACTIVE\
    ZESHY_RM_OPTIONS_IF_RECURSIVE\
    ZESHY_RMDIR_OPTIONS\
    ZESHY_RMDIR_OPTIONS_IF_SHELL_INTERACTIVE\
    ZESHY_RMDIR_OPTIONS_IF_SHELL_NONINTERACTIVE

# ....................{ CHMOD                              }....................
document_global '
list ZESHY_CHMOD_OPTIONS

"chmod" options specific to the set_path_permissions*() functions.
'
ZESHY_CHMOD_OPTIONS=()

document_global '
list ZESHY_CHMOD_OPTIONS_IF_SHELL_INTERACTIVE

"chmod" options if run interactively.
'
ZESHY_CHMOD_OPTIONS_IF_SHELL_INTERACTIVE=(
    --changes
)

document_global '
list ZESHY_CHMOD_OPTIONS_IF_SHELL_NONINTERACTIVE

"chmod" options if run non-interactively.
'
ZESHY_CHMOD_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_CHMOD_OPTIONS_IF_RECURSIVE

"chmod" options if run recursively.
'
ZESHY_CHMOD_OPTIONS_IF_RECURSIVE=(
    --preserve-root
    --recursive
)

# ....................{ CHOWN                              }....................
document_global '
list ZESHY_CHOWN_OPTIONS

"chown" options specific to the set_path_user_and_group*() functions.
'
ZESHY_CHOWN_OPTIONS=()

document_global '
list ZESHY_CHOWN_OPTIONS_IF_SHELL_INTERACTIVE

"chown" options if run interactively.
'
ZESHY_CHOWN_OPTIONS_IF_SHELL_INTERACTIVE=(
    --changes
)

document_global '
list ZESHY_CHOWN_OPTIONS_IF_SHELL_NONINTERACTIVE

"chown" options if run non-interactively.
'
ZESHY_CHOWN_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_CHOWN_OPTIONS_IF_RECURSIVE

"chown" options if run recursively.
'
ZESHY_CHOWN_OPTIONS_IF_RECURSIVE=(
    --preserve-root
    --recursive
)

# ....................{ CP                                 }....................
document_global '
list ZESHY_CP_OPTIONS

"cp" options specific to the copy_path*() functions.
'
ZESHY_CP_OPTIONS=(
    --archive
)

document_global '
list ZESHY_CP_OPTIONS_IF_SHELL_INTERACTIVE

"cp" options if run interactively.
'
ZESHY_CP_OPTIONS_IF_SHELL_INTERACTIVE=(
    --interactive
    --verbose
)

document_global '
list ZESHY_CP_OPTIONS_IF_SHELL_NONINTERACTIVE

"cp" options if run non-interactively.
'
ZESHY_CP_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_CP_OPTIONS_IF_RECURSIVE

"cp" options if run recursively.
'
ZESHY_CP_OPTIONS_IF_RECURSIVE=(
    --recursive
    --update
)

document_global '
list ZESHY_CP_OPTIONS_IF_DEEP

"cp" options if copying deeply (i.e., copying the targets of source symbolic
links rather than such links).
'
ZESHY_CP_OPTIONS_IF_DEEP=(
    --dereference
)

# ....................{ DIFF                               }....................
document_global '
list ZESHY_DIFF_OPTIONS

"diff" options specific to the difference_files*() and make_file_patch*()
functions.
'
ZESHY_DIFF_OPTIONS=(
    --new-file
    --speed-large-files
    --unified
)

document_global '
list ZESHY_DIFF_OPTIONS_IF_SHELL_INTERACTIVE

"diff" options if run interactively. Ignoring whitespace is rather nice when
run interactively but otherwise dangerous.
'
ZESHY_DIFF_OPTIONS_IF_SHELL_INTERACTIVE=(
    --ignore-all-space
    --ignore-blank-lines
    --ignore-space-change
)

document_global '
list ZESHY_DIFF_OPTIONS_IF_SHELL_NONINTERACTIVE

"diff" options if run non-interactively.
'
ZESHY_DIFF_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_DIFF_OPTIONS_IF_RECURSIVE

"diff" options if run recursively.
'
ZESHY_DIFF_OPTIONS_IF_RECURSIVE=(
    --recursive
)

# ....................{ DU                                 }....................
document_global '
list ZESHY_DU_OPTIONS

"du" options specific to the list_path_disk_usage*() functions.
'
ZESHY_DU_OPTIONS=(
    --one-file-system
)

document_global '
list ZESHY_DU_OPTIONS_IF_SHELL_INTERACTIVE

"du" options if run interactively.
'
ZESHY_DU_OPTIONS_IF_SHELL_INTERACTIVE=(
    --human-readable
    --total
)

document_global '
list ZESHY_DU_OPTIONS_IF_SHELL_NONINTERACTIVE

"du" options if run non-interactively.
'
ZESHY_DU_OPTIONS_IF_SHELL_NONINTERACTIVE=()

# ....................{ FILE                               }....................
document_global '
list ZESHY_FILE_OPTIONS

"file" options specific to the *_file_*() functions.
'
ZESHY_FILE_OPTIONS=()

document_global '
list ZESHY_FILE_OPTIONS_IF_PRINTING_METADATA_SYNOPSIS

"file" options if printing a human-readable synopsis of file metadata.'
ZESHY_FILE_OPTIONS_IF_PRINTING_METADATA_SYNOPSIS=(
    --dereference
)

# ....................{ GREP                               }....................
# Avoid defining global ${GREP_OPTION}. Defining such global coerces such
# options on all invocations of "grep", including invocation by shell scripts
# expecting machine- rather than human-readable print_string (e.g., no line numbers or
# colors). To avoid breaking the entire system, avoid such global.

document_global '
list ZESHY_GREP_OPTIONS

"grep" options specific to the grep*() functions.
'
ZESHY_GREP_OPTIONS=(
    --binary-files=without-match
    --exclude-dir='.cvs'
    --exclude-dir='.git'
    --exclude-dir='.hg'
    --exclude-dir='.svn'
    --no-messages
    --perl-regexp
)

document_global '
list ZESHY_GREP_OPTIONS_IF_SHELL_INTERACTIVE

"grep" options if run interactively.
'
ZESHY_GREP_OPTIONS_IF_SHELL_INTERACTIVE=(
    --color=always
    --line-number
    --with-filename
)

document_global '
list ZESHY_GREP_OPTIONS_IF_SHELL_NONINTERACTIVE

"grep" options if run non-interactively.
'
ZESHY_GREP_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_GREP_OPTIONS_IF_CASELESS

"grep" options if run case-insensitively.
'
ZESHY_GREP_OPTIONS_IF_CASELESS=(
    --ignore-case
)

document_global '
list ZESHY_GREP_OPTIONS_IF_RECURSIVE

"grep" options if run recursively.
'
ZESHY_GREP_OPTIONS_IF_RECURSIVE=(
    --recursive
)

document_global '
list ZESHY_GREP_OPTIONS_IF_SILENT

"grep" options if run silently.
'
ZESHY_GREP_OPTIONS_IF_SILENT=(
    --silent
)

# ....................{ LESS                               }....................
document_global '
string LESS

Whitespace-delimited "less" options. Such options are not specific to Zeshy and
hence applied to all "less" invocations, particularly those by external commands
(e.g., "man").
'
LESS="${LESS--R}"

document_global '
list ZESHY_LESS_OPTIONS_IF_SHELL_INTERACTIVE

"less" options specific to the page_safely() function.
'
ZESHY_LESS_OPTIONS_IF_SHELL_INTERACTIVE=(
    # Display the current pager position in the "prompt" (i.e., the last line).
    --LONG-PROMPT

    # Display raw control characters, excluding ANSI escape sequences.
    --RAW-CONTROL-CHARS

    # Avoid clearing the screen on initialization.
    --no-init

    # When scrolling horizontally, "shift" the screen by a number of columns
    # equal to %5 of the current terminal width.
    --shift=.05
)

# ....................{ LN ~ symbolic                      }....................
document_global '
list ZESHY_LN_SYMBOLIC_OPTIONS

"ln" options specific to the make_link_symbolic*() functions.
'
ZESHY_LN_SYMBOLIC_OPTIONS=(
    --symbolic
)

document_global '
list ZESHY_LN_SYMBOLIC_OPTIONS_IF_SHELL_INTERACTIVE

"ln" options if run interactively.
'
ZESHY_LN_SYMBOLIC_OPTIONS_IF_SHELL_INTERACTIVE=(
    --interactive
    --verbose
)

document_global '
list ZESHY_LN_SYMBOLIC_OPTIONS_IF_SHELL_NONINTERACTIVE

"ln" options if run non-interactively.
'
ZESHY_LN_SYMBOLIC_OPTIONS_IF_SHELL_NONINTERACTIVE=()

# ....................{ LS                                 }....................
document_global '
list ZESHY_LS_OPTIONS

"ls" options specific to the list_path*() functions.
'
ZESHY_LS_OPTIONS=()

document_global '
list ZESHY_LS_OPTIONS_IF_SHELL_INTERACTIVE

"ls" options if run interactively.
'
ZESHY_LS_OPTIONS_IF_SHELL_INTERACTIVE=(
    --all
    --color=always
    --group-directories-first
    --human-readable
    --indicator-style=classify
    --quoting-style=shell
    --sort=version
    --time-style=long-iso
)

document_global '
list ZESHY_LS_OPTIONS_IF_SHELL_NONINTERACTIVE

"ls" options if run non-interactively.
'
ZESHY_LS_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_LS_OPTIONS_IF_CONCISE

"ls" options if run concisely (i.e., non-verbosely).
'
ZESHY_LS_OPTIONS_IF_CONCISE=(
    --format=vertical
)

document_global '
list ZESHY_LS_OPTIONS_IF_RECURSIVE

"ls" options if run recursively.
'
ZESHY_LS_OPTIONS_IF_RECURSIVE=(
    --format=long
    --recursive
)

document_global '
list ZESHY_LS_OPTIONS_IF_VERBOSE

"ls" options if run verbosely.
'
ZESHY_LS_OPTIONS_IF_VERBOSE=(
    --format=long
)

# ....................{ MKDIR                                 }....................
document_global '
list ZESHY_MKDIR_OPTIONS

"mkdir" options specific to the make_dir*() functions.
'
ZESHY_MKDIR_OPTIONS=()

document_global '
list ZESHY_MKDIR_OPTIONS_IF_SHELL_INTERACTIVE

"mkdir" options if run interactively.
'
ZESHY_MKDIR_OPTIONS_IF_SHELL_INTERACTIVE=(
    --verbose
)

document_global '
list ZESHY_MKDIR_OPTIONS_IF_SHELL_NONINTERACTIVE

"mkdir" options if run non-interactively.
'
ZESHY_MKDIR_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_MKDIR_OPTIONS_IF_NOT_FOUND

"mkdir" options if ignoring nonextant directories.
'
ZESHY_MKDIR_OPTIONS_IF_NOT_FOUND=(
    --parent
)

# ....................{ MV                                 }....................
document_global '
list ZESHY_MV_OPTIONS

"mv" options specific to the move_path*() functions.
'
ZESHY_MV_OPTIONS=()

document_global '
list ZESHY_MV_OPTIONS_IF_SHELL_INTERACTIVE

"mv" options if run interactively.
'
ZESHY_MV_OPTIONS_IF_SHELL_INTERACTIVE=(
    --interactive
    --verbose
)

document_global '
list ZESHY_MV_OPTIONS_IF_SHELL_NONINTERACTIVE

"mv" options if run non-interactively.
'
ZESHY_MV_OPTIONS_IF_SHELL_NONINTERACTIVE=()


# ....................{ NL                                 }....................
document_global '
list ZESHY_NL_OPTIONS

"nl" options specific to the prefix_with_line_integers() function.
'
ZESHY_NL_OPTIONS=(
    -ba
)

document_global '
list ZESHY_NL_OPTIONS_IF_SHELL_INTERACTIVE

"nl" options if run interactively.
'
ZESHY_NL_OPTIONS_IF_SHELL_INTERACTIVE=()

document_global '
list ZESHY_NL_OPTIONS_IF_SHELL_NONINTERACTIVE

"nl" options if run non-interactively.
'
ZESHY_NL_OPTIONS_IF_SHELL_NONINTERACTIVE=()

# ....................{ PATCH                               }....................
document_global '
list ZESHY_PATCH_OPTIONS

"patch" options specific to the apply_file_patch*() functions.
'
ZESHY_PATCH_OPTIONS=(
    --no-backup-if-mismatch
    --remove-empty-files
)

document_global '
list ZESHY_PATCH_OPTIONS_IF_SHELL_INTERACTIVE

"patch" options if run interactively.
'
ZESHY_PATCH_OPTIONS_IF_SHELL_INTERACTIVE=()

document_global '
list ZESHY_PATCH_OPTIONS_IF_SHELL_NONINTERACTIVE

"patch" options if run non-interactively.
'
ZESHY_PATCH_OPTIONS_IF_SHELL_NONINTERACTIVE=()

# ....................{ RM                                 }....................
document_global '
list ZESHY_RM_OPTIONS

"rm" options specific to the remove_file*() functions.
'
ZESHY_RM_OPTIONS=(
    --one-file-system
    --preserve-root
)

document_global '
list ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE

"rm" options if run interactively.
'
ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE=(
    --verbose
)

document_global '
list ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE_AND_ARGS_1_TO_3

"rm" options if run interactively and passed a "few" paths to remove (i.e.,
only one, two, or three such paths).
'
ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE_AND_ARGS_1_TO_3=(
    -i
)

document_global '
list ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE_AND_ARGS_4_OR_MORE

"rm" options if run interactively and passed "many" paths to remove (i.e.,
at least four such paths).
'
ZESHY_RM_OPTIONS_IF_SHELL_INTERACTIVE_AND_ARGS_4_OR_MORE=(
    -I
)

document_global '
list ZESHY_RM_OPTIONS_IF_SHELL_NONINTERACTIVE

"rm" options if run non-interactively.
'
ZESHY_RM_OPTIONS_IF_SHELL_NONINTERACTIVE=()

document_global '
list ZESHY_RM_OPTIONS_IF_RECURSIVE

"rm" options if run recursively
'
ZESHY_RM_OPTIONS_IF_RECURSIVE=(
    --recursive
)

# ....................{ RMDIR                                 }....................
document_global '
list ZESHY_RMDIR_OPTIONS

"rmdir" options specific to the remove_dir*() functions.
'
ZESHY_RMDIR_OPTIONS=()

document_global '
list ZESHY_RMDIR_OPTIONS_IF_SHELL_INTERACTIVE

"rmdir" options if run interactively.
'
ZESHY_RMDIR_OPTIONS_IF_SHELL_INTERACTIVE=(
    --verbose
)

document_global '
list ZESHY_RMDIR_OPTIONS_IF_SHELL_NONINTERACTIVE

"rmdir" options if run non-interactively.
'
ZESHY_RMDIR_OPTIONS_IF_SHELL_NONINTERACTIVE=()
