#!/usr/bin/env zsh
# ====================[ zeshy                              ]====================
#
# --------------------( SYNOPSIS                           )--------------------
# Configure basic Zeshy settings.

# ....................{ DECLARATIONS                       }....................
boolean_global_export\
    ZESHY_IS_DEBUGGING\
    ZESHY_ERROR_HANDLER_IS_PRINTING_CALL_STACK\
    ZESHY_ERROR_HANDLER_IS_PRINTING_DOCUMENTATION\
    ZESHY_ERROR_HANDLER_IS_PRINTING_SOURCE_CODE
integer_global_export\
    ZESHY_DIR_STACK_MAX_SIZE
string_global_export\
    ZESHY_DOT_CACHE_COMPINIT_FILE\
    ZESHY_DOT_CACHE_COMPLETION_DIR\
    ZESHY_DOT_CACHE_DOCUMENTATION_DIR\
    ZESHY_DOT_CACHE_DOCUMENTATION_ALIAS_DIR\
    ZESHY_DOT_CACHE_DOCUMENTATION_FUNCTION_DIR\
    ZESHY_DOT_CACHE_DOCUMENTATION_GLOBAL_DIR\
    ZESHY_DOT_CACHE_PID_DIR\
    ZESHY_INITRAMFS_HOME\
    ZESHY_THEME

# ....................{ THEMES                             }....................
document_global '
string ZESHY_THEME

Zeshy theme. By default, Zeshy comes bundled with:

* "vanilla", the default Zeshy theme. A commendable choice, stalwart hero.

Consider running print_zeshy_themes() for a human-readable list of currently
available themes.
'
ZESHY_THEME=vanilla

# ....................{ PATHS                              }....................
document_global '
string ZESHY_DOT_CACHE_COMPINIT_FILE

File to which compinit() caches completion initialization.
'
ZESHY_DOT_CACHE_COMPINIT_FILE="${ZESHY_DOT_CACHE_DIR}/compinit"

document_global '
string ZESHY_DOT_CACHE_COMPLETION_DIR

Directory to which Zsh caches completion results.
'
ZESHY_DOT_CACHE_COMPLETION_DIR="${ZESHY_DOT_CACHE_DIR}/completion"

document_global '
string ZESHY_DOT_CACHE_PID_DIR

Directory to which Zeshy caches process IDs.
'
ZESHY_DOT_CACHE_PID_DIR="${ZESHY_DOT_CACHE_DIR}/pid"

# ....................{ PATHS ~ documentation              }....................
document_global '
string ZESHY_DOT_CACHE_DOCUMENTATION_DIR

Directory to which Zeshy caches documentation subdirectories.
'
ZESHY_DOT_CACHE_DOCUMENTATION_DIR="${ZESHY_DOT_CACHE_DIR}/documentation"

document_global '
string ZESHY_DOT_CACHE_DOCUMENTATION_ALIAS_DIR

Directory to which Zeshy caches documentation for Zeshy-specific aliases.
'
ZESHY_DOT_CACHE_DOCUMENTATION_ALIAS_DIR="${ZESHY_DOT_CACHE_DOCUMENTATION_DIR}/alias"

document_global '
string ZESHY_DOT_CACHE_DOCUMENTATION_FUNCTION_DIR

Directory to which Zeshy caches documentation for Zeshy-specific functions.
'
ZESHY_DOT_CACHE_DOCUMENTATION_FUNCTION_DIR="${ZESHY_DOT_CACHE_DOCUMENTATION_DIR}/function"

document_global '
string ZESHY_DOT_CACHE_DOCUMENTATION_GLOBAL_DIR

Directory to which Zeshy caches documentation for Zeshy-specific globals.
'
ZESHY_DOT_CACHE_DOCUMENTATION_GLOBAL_DIR="${ZESHY_DOT_CACHE_DOCUMENTATION_DIR}/global"

# ....................{ PATHS ~ optional                   }....................
# The following paths are safely ignorable.

document_global '
string ZESHY_INITRAMFS_HOME

Initramfs directory used by default by the *_initramfs*() family of functions.
This path is safely ignorable, regardless of whether you require an initramfs
or call such functions.
'
ZESHY_INITRAMFS_HOME='/usr/src/initramfs'

# ....................{ INTEGERS                           }....................
document_global '
integer ZESHY_DIR_STACK_MAX_SIZE

Maximum directory stack height. Once full, pushing new directories onto the
directory stack implicitly pops that number of directories off the end of the
directory stack. Setting this to 0 or the empty string disables such behavior
(i.e., permits arbitrarily large directory stacks).
'
ZESHY_DIR_STACK_MAX_SIZE=16

# ....................{ BOOLEANS                           }....................
document_global '
boolean ZESHY_IS_DEBUGGING

If true, enable computationally expensive developer logic. This includes:

* Timing, profiling, and otherwise measuring the cost of Zeshy startup.
* Recompiling Zeshy''s user digest file on changes to the Zeshy codebase. For
  Zeshy developers, such recompilation is essential to fast development. For
  Zeshy non-developers, detecting such changes is unnecessarily wasteful.
'
ZESHY_IS_DEBUGGING=${ZESHY_BOOLEAN_TRUE}

# ....................{ BOOLEANS ~ error                   }....................
document_global '
boolean ZESHY_ERROR_HANDLER_IS_PRINTING_CALL_STACK

If true, print a stack trace on either:

* A Zsh alias, function, or script throwing an uncaught exception.
* A Zsh alias, function, or script or external command returning unhandled
  non-zero exit status.

Please enable this boolean when submitting bug reports.
'
ZESHY_ERROR_HANDLER_IS_PRINTING_CALL_STACK=${ZESHY_BOOLEAN_TRUE}

document_global '
boolean ZESHY_ERROR_HANDLER_IS_PRINTING_DOCUMENTATION

If true, print the documentation of the Zsh function or script throwing
such exception or calling the external command returning such non-zero exit
status. The definition of "documentation" depends on context.

Function documentation includes all "#"-prefixed lines exactly preceding such
function definition, themselves prefixed by either a blank line or start of
the file (optionally followed by an ignored "# ....................{"-
prefixed banner).

Script documentation includes all "#"-prefixed lines at the top of such
script implementation, excluding shebang lines (e.g., "#!/usr/bin/env zsh").
'
ZESHY_ERROR_HANDLER_IS_PRINTING_DOCUMENTATION=${ZESHY_BOOLEAN_TRUE}

document_global '
boolean ZESHY_ERROR_HANDLER_IS_PRINTING_SOURCE_CODE

If true, print the source code of the Zsh function or script throwing
such exception or calling the external command returning such non-zero exit
status. If such function or script is sufficiently small (e.g., less than six
lines), this prints the definition of such function or script; otherwise, this
prints only the exact line within such function or script responsible for such
error and several previous and subsequent lines of context about such line.

Please enable this boolean when submitting bug reports.
'
ZESHY_ERROR_HANDLER_IS_PRINTING_SOURCE_CODE=${ZESHY_IS_DEBUGGING}
