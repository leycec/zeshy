#!/usr/bin/env zsh
# ====================[ cpufreq-set                        ]====================
#
# --------------------( SYNOPSIS                           )--------------------
# Zeshy cpufrequtils, handling CPU frequency scaling.

# ....................{ PRINTERS                           }....................
# char *print_processor_scaling(void)
#
# Print a human-readable profile of frequency scaling (e.g., overclocking,
# underclocking) for all processors.
print_processor_scaling() {
    # Validate sanity.
    die_if_args
    die_unless_installed cpufreq-info

    # Capture "cpufreq-info" output. Since "cpufreq-info" sans options prefixes
    # output with a two-line header and since "cpufreq-info -o" yields a more
    # concise synopsis, sandwich the output of the latter between the header and
    # all remaining output of the former.
    string output; output="$(cpufreq-info)"
    list lines; lines=( "${(f@)output}" )
    sputter_newline_delimited_list lines 1 2
    cpufreq-info -o
    sputter_newline_delimited_list lines 2 -1
}

# --------------------( WASTELANDS                         )--------------------
# --------------------( COPYRIGHT AND LICENSE              )--------------------
# The information below applies to everything in this distribution,
# except where noted.
#
# Copyright 2007-2012 by Cecil Curry.
#
#   http://www.raiazome.com
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.
