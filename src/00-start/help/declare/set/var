#!/usr/bin/env zsh
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.

:parcel <<'/---'
Document all globals, functions, and aliases declared by @{*-set}.
/---

# ....................{ SETTERS                            }....................
#FIXME: Excessive example. Split in twain, please.
:func.document <<'/---'
:void :string.set(
    ^:string string_name,
    :string text1, ...)

Set the passed string variable to the undelimited concatenation of all passed
strings (i.e., without separation between such strings): e.g.,

.:string.set()
==========================================
[source]
------------------------------------------
>>> :string on_dmt on_entelechy=\
...    "There's this feeling which comes over your body: half arousal, half
...     anaesthesia. The air appears to suddenly have been sucked out of the
...     room because all the colors brighten visibly, as though some intervening
...     medium has been removed. And then there's a sound, like a piece of bread
...     wrapper or cellophane being scrunched up and thrown away. A friend of
...     mine says this is radio-entelechy leaving the anterior fontanelle at the
...     top of your head."
>>> :string on_mundanity=\
...    "I'm not sure I want to line up with that, but a membrane is being
...     ripped; something is being torn. And then there is a total – what
...     Mircea Eliade called in a wonderful phrase – \"a complete rupture of
...     the mundane plane.\" You know? That's like a hit and run accident except
...     the car came from hyperspace."
>>> :string.set on_dmt "${on_entelechy}" "${on_mundanity}"
>>> get_string_line "${on_dmt}" 1
There's this feeling which comes over your body: half arousal, half
>>> get_string_line "${on_dmt}" -1
the car came from hyperspace.
------------------------------------------
==========================================
/---

:func.document <<'/---'
:void :string.set_to_stdin[
    args = (^:string string_name),
    stdin = (:string input)]

Set the passed string variable to all standard input to the current context if
such input is non-empty or throw an exception otherwise. See
:string.set_to_stdin_if_nonempty(): e.g.,

.:string.set_to_stdin()
==========================================
[source]
------------------------------------------
>>> :string chrome_yellow on_indignation=\
...    "The surest way to work up a crusade in favor of some good cause is to
...     promise people they will have a chance of maltreating someone. To be
...     able to destroy with good conscience, to be able to behave badly and
...     call your bad behavior \"righteous indignation\" — this is the height of
...     psychological luxury, the most delicious of moral treats."
>>> :string.set_to_stdin chrome_yellow <<<"${on_indignation}"
>>> get_string_line "${chrome_yellow}" -1
psychological luxury, the most delicious of moral treats.
------------------------------------------
==========================================
/---

#FIXME: Add example.
:func.document <<'/---'
[status = :bool] :string.set_to_stdin_if_nonempty[
    args = (^:string string_name),
    stdin = (:string input)]

Set the passed string variable to all standard input to the current context if
such input is non-empty or report failure otherwise. Since this function
indefinitely silently blocks until receiving *EOF* (end of file) from such
input, call this function _only_ where such input is known to succinctly
terminate (e.g., here-documents and -strings). See :stdin.is_nonempty() for
further details on ``non-empty'' standard input.
/---

# --------------------( WASTELANDS                         )--------------------
#FUXME: Since such function is defined considerably earlier than
#:set_var_to_stdin(), the documentation for *THAT* function should defer to the
#documentation for *THIS* function rather than the other way around.
