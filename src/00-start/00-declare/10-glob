#!/usr/bin/env zsh
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.

#FIXME: Actually, globs are typically less efficient than comparable PCREs --
#and this is particularly the case for multiline globs. Hence, convert all
#globs below to PCREs and excise this parcel.

# ....................{ GLOBALS                            }....................
#FIXME: Document me.
# Glob globals defined below.
typeset -g ZESHY_HELP_GLOB

# Define such globs in an anonymous block to permit definition of locals. Since
# subsequent locals often depend on prior locals, only define one local a line.
() {
    # Glob matching a blank ine* (i.e., two consecutive newlines optionally
    # delimited by zero or more tab or space characters).
    local blank_line_glob=$'\n''[ '$'\t'']#'$'\n'

    # Glob capturing the prototype and non-prototype portions of documentation.
    # Dismantled, this is:
    #
    ZESHY_HELP_GLOB='[[:space:]]#(#b)(^(#B)(*'${blank_line_glob}'*))'${blank_line_glob}'(#b)(*)'
}

#FIXME: In lieu of unit tests...
# function zuzu() {
#     local yamy='
# [status: int] TRAPZERR(int signal_number = SIGZERR)
# 
# Trap SIGZERR, a `zsh`-specific signal triggered by `zsh` on any.
# 
# Command reporting *unhandled failure* (i.e., nonzero exit status _not_.
# 
# '
#     if [[ "${yamy}" == ${~ZESHY_HELP_GLOB} ]] {
#         print "match[1]: ${match[1]}"
#         print "match[2]: ${match[2]}"
#     } else {
#         print 'Ugh!'
#     }
# }

# --------------------( WASTELANDS                         )--------------------
