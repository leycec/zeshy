#!/usr/bin/env zsh
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.

declare_parcel_as_script_with_stdin <<'/---'
Handle *desktop environment testers* (i.e., high-level functions testing whether the
current desktop environment -- the component of the current windowing system
implementing the desktop metaphor for the current display of the current display
server -- is or is compatible with various well-known desktop environments).
/---

# ....................{ TESTERS                            }....................
#FIXME: Implement me! Unfortunately, a similar caveat as described under
#@{window_manager} applies here: this is *REALLY* hard to do.
#FIXME: Wait. This won't be *SO* bad. O.K.; it's a little bad, but not
#impossibly so. Basically, we have to check for the existence of certain
#desktop environment-specific window properties on the root window using
#"xprop". At least, that's how screenFetch does it! Seems modestly legit.
#FIXME: We've just discovered the distro/OS/WM-detecting motherload, folks:
#"screenfetch", a single monolithic huge (as always!) Bash script producing a
#slick ANSI art "image" suitable for inclusion in login scripts and "issue". In
#particular, see function detectde() at:
#https://github.com/KittyKatt/screenFetch/blob/master/screenfetch-dev
#
#I can confirm that, if "xprop" is *NOT* installed, there still do actually
#exist reliable environment variables that can be tested to detect the current
#window manager. (It's just not *QUITE* as reliable.) For example, see the
#official documentation on KDE environment variables:
#http://techbase.kde.org/KDE_System_Administration/Environment_Variables#Automatically_Set_Variables

declare_function_with_stdin <<'/---'
[status: bool] :is_desktop_environment_kde(void)

Report success if the current desktop environment is *KDE Plasma Workspaces*
(i.e., the set of all graphical environments supported by KDE Software
Compilation 4). Such manager is often abbreviated as *KDE* or *Plasma*.
/---
#function :is_desktop_environment_kde() {
#    die_if_args
#}

# --------------------( WASTELANDS                         )--------------------
