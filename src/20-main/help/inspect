#!/usr/bin/env zsh
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.

declare_parcel_as_script_with_stdin <<'/---'
Document all globals, functions, and aliases declared by @{inspect}.
/---

# ....................{ GLOBALS                            }....................
declare_global_with_stdin string ZESHY_SYSTEM_ID <<'/---'
`.`-delimited string uniquely identifying the *current system* (i.e., the
concatenation of the names of all high-level software on which the current
digest file depends). This includes such software as:

* The current operating system (e.g., `linux-gnu`).
* The current operating system distribution if any (e.g., `Gentoo`).
* The current window manager if any (e.g., `FVWM`).

This global is guaranteed to contain no whitespace and hence is unlikely to be
human-readable. Rather, this global is principally intended for use in
constructing system-specific paths (e.g.,
`~/.zeshy/config/linux-gnu.Gentoo.FVWM`).
/---

# ....................{ GLOBALS ~ os                       }....................
declare_global_with_stdin string ZESHY_LINUX_DISTRO_NAME <<'/---'
Human-readable name of the *current Linux distribution* (i.e., a Unix-like
operating system providing the Linux kernel, typically managing software
installation through a distribution- specific package manager as well as
supporting the GNU software stack) if the current operating system is Linux
_and_ such distribution was recognized at digest compile time or the empty
string otherwise. Such string may contain both whitespace and capitalized
letters and hence is _not_ machine-readable.
/---

# ....................{ GLOBALS ~ gui                      }....................
declare_global_with_stdin string ZESHY_DISPLAY_SERVER_NAME <<'/---'
Human-readable name of the *current display server* (i.e., the core component of
the current windowing system, defining the communications protocol with which
client GUI applications receive input and render output) if the current display
is managed by a display server or the empty string otherwise. Such string may
contain both whitespace and capitalized letters and hence is _not_ machine-
readable.
/---

declare_global_with_stdin string ZESHY_DESKTOP_ENVIRONMENT_NAME <<'/---'
Human-readable name of the *current desktop environment* (i.e., the component of
the current windowing system implementing the desktop metaphor for the current
display of the current display server) if the current display is managed by a
display server or the empty string otherwise. Such string may contain both
whitespace and capitalized letters and hence is _not_ machine-readable.
/---

declare_global_with_stdin string ZESHY_WINDOW_MANAGER_NAME <<'/---'
Human-readable name of the *current window manager* (i.e., the component of the
current windowing system managing windows for the current display of the current
display server) if the current display is managed by a display server or the
empty string otherwise. Such string may contain both whitespace and capitalized
letters and hence is _not_ machine-readable.
/---

# ....................{ SETTERS                            }....................
declare_function_with_stdin <<'/---'
void ::set_system_globals(void)

Define all globals declared by this parcel by inspecting the current system.
This function is implicitly called on @{digest} sourcing this parcel, after
which @{digest} expands such globals (chiefly, ${ZESHY_SYSTEM_ID}) to decide
which of several digest files is the ``current'' digest file.
/---

declare_function_with_stdin <<'/---'
void ::set_system_globals_os(void)

Set all operating system-specific globals required by @{digest}, including
${ZESHY_DISTRO_NAME}. See such global for further details.
/---

declare_function_with_stdin <<'/---'
void ::set_system_globals_gui(void)

Set all GUI-specific globals required by @{digest}, including
${ZESHY_DISPLAY_SERVER_NAME}, ${ZESHY_DESKTOP_ENVIRONMENT_NAME}, and
${ZESHY_WINDOW_MANAGER_NAME}. See such globals for further details.
/---

declare_function_with_stdin <<'/---'
void ::set_system_globals_gui_x(void)

Set all GUI-specific globals required by @{digest} for display servers
supporting the X11 protocol, which this function assumes to be the case.
/---

# --------------------( WASTELANDS                         )--------------------
# describe high-level
# facets of the current system. This function @{digest} sources this parcel
# for subsequent use by @{digest} to . Specifically, set the
# following globals by inspecting the current system: ${ZESHY_SYSTEM_ID} and
# ${ZESHY_WINDOW_MANAGER_NAME}.

# , including
# Set ${ZESHY_DISPLAY_SERVER_NAME} to the name of the current display server. See
# such global for further details.
# 
# Define all system-specific globals required by @{digest} for display servers
# supporting the X11 protocol, which this function implicitly assumes to be the
# case. This function is only intended to be called by ::set_system_globals().

#Define all system-specific globals required by @{digest} for display servers
 # to the name of the current display server

# Under the prior examples, the value of this string would be
#defined in relation to digest compilation as 
# word uniquely identifying the
