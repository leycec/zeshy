#!/usr/bin/env zsh
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.

declare_parcel_as_script_with_stdin <<'/---'
Handle *terminal setters* (i.e., functions setting the values of passed
variables to terminal attributes pertaining to the current terminal).
/---

# ....................{ SETTERS                            }....................
declare_function_with_stdin <<'/---'
void :set_int_to_terminal_width(string int_name)

Set the passed integer variable to the width in characters of the current
terminal. If the current shell is *headless* (i.e., _not_ running under
terminal emulation), an exception is thrown.
/---
function :set_int_to_terminal_width() {
    # Validate sanity.
    die_unless_arg 'Expected one integer name.'
    :string int_name__sittw="${1}"
    :die_unless_terminal

    # Set such integer. Note that capturing the output of running external
    # command "tput columns" also inefficiently suffices.
    :set_int_to_int "${int_name__sittw}" "${COLUMNS}"
}

declare_function_with_stdin <<'/---'
void :set_int_to_terminal_height(string int_name)

Set the passed integer variable to the height in characters of the current
terminal. If the current shell is *headless* (i.e., _not_ running under
terminal emulation), an exception is thrown.
/---
function :set_int_to_terminal_height() {
    # Validate sanity.
    die_unless_arg 'Expected one integer name.'
    :string int_name__sitth="${1}"
    :die_unless_terminal

    # Set such integer. Note that capturing the output of running external
    # command "tput lines" also inefficiently suffices.
    :set_int_to_int "${int_name__sitth}" "${LINES}"
}

# --------------------( WASTELANDS                         )--------------------
