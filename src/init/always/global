#!/usr/bin/env zsh
# ====================[ globals                            ]====================
#                     [ Time-stamp: "2009-04-18 19:29:36 leycec" ]
#
# --------------------( SYNOPSIS                           )--------------------
# ZeshyInit Globals, declaring globals of universal applicability to most other
# Zeshy components and scripts.

# ....................{ BOOLEANS                           }....................
# If non-empty, the current process is running as a cronjob. (Set below.)
bool global ZESHY_IS_CRONJOB

# ....................{ INTEGERS                           }....................
# "nice"-specific highest and lowest priority for CPU scheduling of processes.
global_integer ZESHY_NICENESS_HI='-20' ZESHY_NICENESS_LO='19'

# "ionice"-specific highest and lowest priority pairs consisting of class and
# ioniceness for I/O scheduling of processes. Processes assigned to class 3
# signify "idle-only" processes to be scheduled only when no other process
# performs I/O. Since such processes are likely to suffer scheduling starvation,
# we omit class 3 from consideration.
global_integer\
    ZESHY_IONICE_CLASS_HI='1' ZESHY_IONICE_CLASS_LO='2'\
    ZESHY_IONICENESS_HI='0'   ZESHY_IONICENESS_LO='7'

# 1KB, 1MB, 1GB, and 1TB as base 2 rather than metric (i.e., base 10) integers.
global_integer\
    KB=$(( 1 << 10 ))\
    MB=$(( 1 << 20 ))\
    GB=$(( 1 << 30 ))\
    TB=$(( 1 << 40 ))

# ....................{ PATHS                              }....................
# Directory to which Zeshy caches metadata. If "${HOME}" is the root directory,
# this is probably a cronjob, in which case this directory must reside under
# "/var" rather than "/home".
if is "${HOME}" == '/' si
then global_string ZESHY_CACHE_DIR="/var/cache/zeshy"
else global_string ZESHY_CACHE_DIR="${HOME}/.zeshy"
fi

# Directory to which Zeshy caches scripts implicitly compiled by zimport().
global_string ZESHY_CACHE_COMPILATION_DIR="${ZESHY_CACHE_DIR}/compilation"

# ....................{ STRINGS                            }....................
# Basename for all "main" Zeshy scripts. These are scripts Zeshy looks for when
# a caller attempts to import a path rather than a file: e.g.,
#
#     # Actually imports "zeshy/${ZESHY_MAIN_SCRIPT_BASENAME}", instead.
#     >>> zimport zeshy
global_string ZESHY_MAIN_SCRIPT_BASENAME='.main'

# Human-readable name of the current script. This is used only for output.
# Scripts are welcome to redefine it globally; likewise, functions are welcome
# to redefine it locally. (Set below.)
global_string ZESHY_SCRIPT_NAME

# --------------------( COPYRIGHT AND LICENSE              )--------------------
# The information below applies to everything in this distribution,
# except where noted.
#              
# Copyright 2007-2012 by Cecil Curry.
#   
#   http://www.raiazome.com
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.
