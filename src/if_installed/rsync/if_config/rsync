#!/usr/bin/env zsh
# ====================[ rsync                              ]====================
#
# --------------------( SYNOPSIS                           )--------------------
# Zeshy "rsync" configuration file.

# ....................{ DECLARATIONS                       }....................
# For readability, declare variables prior to their definition below.
list_global_export\
    ZESHY_RSYNC_OPTIONS\
    ZESHY_RSYNC_OPTIONS_IF_INTERACTIVE\
    ZESHY_RSYNC_OPTIONS_IF_NON_INTERACTIVE\
    ZESHY_RSYNC_OPTIONS_IF_REMOTE_SOURCE\
    ZESHY_RSYNC_OPTIONS_IF_REMOTE_TARGET

# ....................{ RSYNC                              }....................
# rsync_safely()-specific "rsync" options.
#
# The defaults, here, are probably fine. If you don't want local changes to be
# auto-overwritten by remote changes (...you probably do, but who are we to
# carp and complain), remove the "--delete" and "--delete-after" options.
#
# To improve granularity, replace "--archive" with the set of corresponding
# options (i.e., the long forms of "-rlptgoD").
ZESHY_RSYNC_OPTIONS=(
    --exclude='*.swp'
    --delete
    --devices --specials
    --links --keep-dirlinks --safe-links
    --one-file-system
    --perms --group --owner
    --protect-args
    --recursive
    --sparse
    --timeout=32
    --times
)

# "rsync" options if run interactively.
ZESHY_RSYNC_OPTIONS_IF_INTERACTIVE=(
    --human-readable
    --itemize-changes
    --progress
    --stats
)

# "rsync" options if run non-interactively (typically, precautions
# against silent, catastrophic, large-scale deletion).
ZESHY_RSYNC_OPTIONS_IF_NON_INTERACTIVE=(
    --max-delete=128
    --quiet
)

# "rsync" options if at least one source URI resides on a remote host.
ZESHY_RSYNC_OPTIONS_IF_REMOTE_SOURCE=(
    --compress
)

# "rsync" options if the target URI resides on a remote host.
ZESHY_RSYNC_OPTIONS_IF_REMOTE_TARGET=(
    --compress
)
