#!/usr/bin/env zsh
# ====================[ alias                              ]====================
#
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2012 by Cecil Curry.
# See "COPYING" for additional details.
#
# --------------------( SYNOPSIS                           )--------------------
# Inspect normal, global, and suffix alias names, definitions, and related
# metadata.

# ....................{ EXCEPTIONS                         }....................
# void die_unless_file_suffix_aliased(
#   string filename,
#   string error_message = "\"${filename}\" not suffix aliased")
#
# Throw an exception unless a suffix alias with the passed file's filetype
# exists.
function die_unless_file_suffix_aliased() {
    die_unless_args_1_to_2\
        'expected one filename and optional error message'
    string filename="${1}"
    is_file_suffix_aliased "${filename}" or
        die "${2:-\"${filename}\" not suffix aliased}"
}

# ....................{ TESTS                              }....................
# boolean is_alias(string alias_name)
#
# Return true if the passed alias exists.
function is_alias() {
    die_unless_arg 'expected one name'
    run_silently alias -- "${1}"
}

# boolean is_suffix_alias(string alias_name)
#
# Return true if the passed suffix alias exists.
function is_suffix_alias() {
    die_unless_arg 'expected one name'
    run_silently suffix_alias -- "${1}"
}

# boolean is_file_suffix_aliased(string filename)
#
# Return true if a suffix alias with the passed file's filetype exists.
function is_file_suffix_aliased() {
    die_unless_arg 'expected one filename'
    string filetype; filetype="$(get_file_type_if_found "${1}")"
    is_nonempty "${filetype}" and is_suffix_alias "${filetype}"
}

# --------------------( WASTELANDS                         )--------------------
