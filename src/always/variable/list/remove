#!/usr/bin/env zsh
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.

declare_parcel_as_script_with_stdin <<'/---'
Handle *list removers* (i.e., functions removing list elements).
/---

# ....................{ CLEARERS                           }....................
declare_function_with_stdin <<'/---'
void clear_list(string list_name)

Clear the passed list (i.e., remove all elements from such list): e.g.,

.clear_list()
==========================================
[source]
------------------------------------------
>>> list the_return; the_return=( "Slow on the leash, pallid the leash-men!" )
>>> clear_list    the_return
>>> get_list_size the_return
0
------------------------------------------
==========================================
/---
function clear_list() {
    # Validate passed arguments.
    die_unless_arg 'expected one list name'
    string list_name__cl="${1}"
    die_unless_list "${list_name__cl}"

    # Clear such list.
    eval "${list_name__cl}=()"
}

# ....................{ REMOVERS                           }....................
declare_function_with_stdin <<'/---'
void remove_list_element(string list_name, string element)

Remove the first element equal to the passed string from the passed list: e.g.,

.remove_list_element()
==========================================
[source]
------------------------------------------
>>> 
------------------------------------------
==========================================
/---
function remove_list_element() {
    # Validate passed arguments.
    die_unless_arg 'expected one list name'
    string list_name__rle="${1}"
    die_unless_list_nonempty "${list_name__rle}"

    # Remove such element from such list.
    eval "${list_name__rle}[1]=( )"
}

# ....................{ REMOVERS ~ stack                   }....................
declare_function_with_stdin <<'/---'
void shift_list(string list_name)

Remove the first element from the passed list: e.g.,

.shift_list()
==========================================
[source]
------------------------------------------
>>> list de_quincy; de_quincy=( suspiria de profundis )
>>> shift_list de_quincy
>>> print_string ${de_quincy[1]}
de
------------------------------------------
==========================================
/---
function shift_list() {
    # Validate passed arguments.
    die_unless_arg 'expected one list name'
    string list_name__sl="${1}"
    die_unless_list_nonempty "${list_name__sl}"

    # Shift such list.
    eval "${list_name__sl}[1]=( )"
}

declare_function_with_stdin <<'/---'
void pop_list(string list_name)

Remove the last element from the passed list: e.g.,

.pop_list()
==========================================
[source]
------------------------------------------
>>> list lotophagi; lotophagi=( blue nymphaea cerulea )
>>> pop_list lotophagi
>>> print_string ${lotophagi[-1]}
nymphaea
------------------------------------------
==========================================
/---
function pop_list() {
    # Validate passed arguments.
    die_unless_arg 'expected one list name'
    string list_name__pl="${1}"
    die_unless_list_nonempty "${list_name__pl}"

    # Pop such list.
    eval "${list_name__pl}[-1]=( )"
}

# --------------------( WASTELANDS                         )--------------------
