#!/usr/bin/env zsh
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.

declare_parcel_as_script_with_stdin <<'---'
Handle *character randomizers* (i.e., functions returning pseudo-random
characters).
---

# ....................{ GLOBALS                            }....................
declare_global_with_stdin list_set ZESHY_CHARACTERS_ALPHANUMERIC <<'/---'
List set of all *alphanumeric characters* (i.e., characters in character class
`[a-zA-Z0-9]`).
/---
ZESHY_CHARACTERS_ALPHANUMERIC=(
    a b c d e f g h i j k l m n o p q r s t u v w x y z
    A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
    0 1 2 3 4 5 6 7 8 9
)

# ....................{ GETTERS                            }....................
declare_function_with_stdin <<'/---'
character get_character_random_alphanumeric(void)

Get a random *alphanumeric character* (i.e., character in character class
`[a-zA-Z0-9]`): e.g.,

.get_character_random_alphanumeric()
==========================================
[source]
------------------------------------------
>>> get_character_random_alphanumeric
6
>>> get_character_random_alphanumeric
O
>>> get_character_random_alphanumeric
Z
------------------------------------------
==========================================
/---
function get_character_random_alphanumeric() {
    # Validate sanity.
    die_if_args
    integer index

    # Pseudo-random index of list global ${ZESHY_CHARACTERS_ALPHANUMERIC}.
    index="$(get_integer_random_in_range\
        1  $(get_list_size ZESHY_CHARACTERS_ALPHANUMERIC))"

    # Get the character with such index.
    output_string "${ZESHY_CHARACTERS_ALPHANUMERIC[index]}"
}

# --------------------( WASTELANDS                         )--------------------
    #FUXME: Implement! For efficiency, just modulo ${RANDOM} into a new list global
    #${ZESHY_CHARACTERS_ALPHANUMERIC}. Sweet, no?
