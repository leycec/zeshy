#!/usr/bin/env zsh
# ====================[ alias                              ]====================
#
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2012 by Cecil Curry.
# See "COPYING" for additional details.
#
# --------------------( SYNOPSIS                           )--------------------
# Handle normal, global, and suffix Zsh aliases.

# ....................{ EXCEPTIONS                         }....................
# void die_unless_suffix_aliased(
#   string filename,
#   string error_message = "\"${filename}\" not suffix aliased")
#
# Throw an exception unless a suffix alias with the passed file's filetype
# exists.
function die_unless_suffix_aliased() {
    die_unless_one_or_two_args\
        'expected one filename and optional error message'
    string filename="${1}"
    is_suffix_aliased "${filename}" or
        die "${2:-\"${filename}\" not suffix aliased}"
}

# ....................{ TESTS                              }....................
# boolean is_alias(string alias_name)
#
# Return true if an alias with the passed name exists.
function is_alias() {
    die_unless_one_arg 'expected one name'
    run_quietly alias -- "${1}"
}

# boolean is_suffix_alias(string alias_name)
#
# Return true if a suffix alias with the passed name exists.
function is_suffix_alias() {
    die_unless_one_arg 'expected one name'
    run_quietly suffix_alias -- "${1}"
}

# boolean is_suffix_aliased(string filename)
#
# Return true if a suffix alias with the passed file's filetype exists.
function is_suffix_aliased() {
    die_unless_one_arg 'expected one filename'
    is_suffix_alias "$(get_filetype_if_found "${1}")"
}

# --------------------( WASTELANDS                         )--------------------
