#!/usr/bin/env zsh
# ====================[ winetricks                         ]====================
#
# --------------------( LICENSE                            )--------------------
# Copyright 2007-2013 by Cecil Curry.
# See "COPYING" for additional details.
#
# --------------------( SYNOPSIS                           )--------------------
# Handle "winetricks", a Wine-specific library manager automating download and
# installation of common Windows libraries and applications.

#FIXME: Should arguably run "winetricks" with run_code_with_options_configured() to
#permit user customization of passed options, of which there are quite a few a
#user could reasonably desire (e.g., "--gui", "--verbose", "--no-clean").

# ....................{ PRINTERS                           }....................
declare_function '
void print_wine_tricks()

List all Windows programs installable with "winetricks".
'
function print_wine_tricks() {
    # Validate sanity. Since "winetricks" oddly fails to cache such list and
    # hence consumes a non-negligible amount of time preparing such list, print
    # a preemptive warning.
    die_if_args
    print_message 'preparing tricks list...'

    #FIXME: The output, while decent, could certainly use aesthetic reformatting
    #(e.g., colorization and additional whitespace for clarity). Shouldn't be
    #terribly hard to capture such output and replace banners resembling:
    #===== apps =====
    # List such programs.
    run_code_paged winetricks list-all
}

# ....................{ INSTALLERS                         }....................
declare_function '
void install_wine_tricks(string resource_name1, string resource_name2, ...)

Install the passed Windows programs with "winetricks": e.g.,

    >>> print_wine_tricks
    ...
    supermeatboy_steam       Super Meat Boy (Steam, nonfree) (Independent, 2010) [downloadable]
    the_witcher_2_gog        The Witcher 2: Assassins of Kings (Atari, 2011)
    ...
    >>> install_wine_tricks supermeatboy_steam the_witcher_2_gog
'
function install_wine_tricks() {
    die_unless_args
    winetricks -- "${@}"
}

# --------------------( WASTELANDS                         )--------------------
#(e.g., applications, fonts, libraries) 
#declare_function '
#void print_winetricks_applications()
#
#List all Windows applications installable with "winetricks".
#'
#function print_winetricks_applications() {
#    die_if_args
#    winetricks apps list
#}

#declare_function '
#void print_winetricks_benchmarks()
#
#List all Windows benchmarks installable with "winetricks".
#'
#function print_winetricks_benchmarks() {
#    die_if_args
#    winetricks benchmarks list
#}

#declare_function '
#void print_winetricks_fonts()
#
#List all Windows fonts installable with "winetricks".
#'
#function print_winetricks_fonts() {
#    die_if_args
#    winetricks fonts list
#}

#declare_function '
#void print_winetricks_games()
#
#List all Windows games installable with "winetricks".
#'
#function print_winetricks_games() {
#    die_if_args
#    winetricks games list
#}

#declare_function '
#void print_winetricks_libraries()
#
#List all Windows libraries installable with "winetricks".
#'
#function print_winetricks_libraries() {
#    die_if_args
#    winetricks dlls list
#}

#declare_function '
#void print_winetricks_settings()
#
#List all Windows settings installable with "winetricks".
#'
#function print_winetricks_settings() {
#    die_if_args
#    winetricks settings list
#}

#. For example, call print_winetricks_applications() to list all
#installable Windows applications and then call this function with such
#with such names to install such applications.
#declare_function '
#void print_winetricks_types()
#
#List all types of Windows resources installable with "winetricks".
#'
#function print_winetricks_types() {
#    die_if_args
#    winetricks list
#}

#List all types of installable applications supported by "winetricks".
