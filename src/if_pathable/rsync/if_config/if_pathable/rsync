#!/usr/bin/env zsh
# ====================[ rsync                              ]====================
#
# --------------------( SYNOPSIS                           )--------------------
# Configure "rsync", a utility synchronizing local with remote paths.

# ....................{ RSYNC                              }....................
document_global '
list ZESHY_RSYNC_OPTIONS

"rsync" options specific to the rsync_safely() function.
'
# Default options silently overwrite target with source changes, including
# deletion of all files found on the target but not source. While this is
# normally desirable, consider removing options "--delete" and "--delete-after"
# if your needs differ.
ZESHY_RSYNC_OPTIONS=(
    --exclude='*.swp'
    --delete
    --devices --specials
    --links --keep-dirlinks --safe-links
    --one-file-system
    --perms --group --owner
    --protect-args
    --recursive
    --sparse
    --timeout=32
    --times
)

document_global '
list ZESHY_RSYNC_OPTIONS_IF_SHELL_INTERACTIVE

"rsync" options if run interactively.
'
ZESHY_RSYNC_OPTIONS_IF_SHELL_INTERACTIVE=(
    --human-readable
    --itemize-changes
    --progress
    --stats
)

document_global '
list ZESHY_RSYNC_OPTIONS_IF_SHELL_NONINTERACTIVE

"rsync" options if run non-interactively, typically implementing precautions
against silent, catastrophic, large-scale deletions.
'
ZESHY_RSYNC_OPTIONS_IF_SHELL_NONINTERACTIVE=(
    --max-delete=128
    --quiet
)

#FIXME: Rename to ZESHY_RSYNC_OPTIONS_IF_SOURCE_REMOTE.
document_global '
list ZESHY_RSYNC_OPTIONS_IF_REMOTE_SOURCE

"rsync" options if at least one source resides on a remote host.
'
ZESHY_RSYNC_OPTIONS_IF_REMOTE_SOURCE=(
    --compress
)

#FIXME: Rename to ZESHY_RSYNC_OPTIONS_IF_TARGET_REMOTE.
document_global '
list ZESHY_RSYNC_OPTIONS_IF_REMOTE_TARGET

"rsync" options if the target resides on a remote host.
'
ZESHY_RSYNC_OPTIONS_IF_REMOTE_TARGET=(
    --compress
)
