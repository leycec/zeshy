#!/usr/bin/env zsh
# ====================[ apachectl                          ]====================
#
# --------------------( SYNOPSIS                           )--------------------
# Zeshy Apache HTTP Server.

# ....................{ PRINTERS                           }....................
# string print_apache2_info(void)
#
# Print Apache-specific metadata, including:
#
# * Version.
# * Compile-time build parameters.
# * Compile-time static modules.
# * Dynamic shared modules (i.e., DSOs).
print_apache2_info() {
    die_if_args
    
    # Temporary file to which we write Apache output.
    string apachectl_print_file=$(which_temporary_file 'print_apache2_info')
    
    # Append Apache-specific print_string to this file.
    apachectl -V  >> "${apachectl_print_file}"
    print         >> "${apachectl_print_file}"
    apachectl -MS >> "${apachectl_print_file}"
    print         >> "${apachectl_print_file}"
    apachectl fullstatus >> "${apachectl_print_file}"

    # Show it. Kill it.
    page "${apachectl_print_file}"
    rm   "${apachectl_print_file}"
}

# ....................{ TAILERS                            }....................
tail_apache2_access_log() {
    die_if_args
    run_as_superuser tail -f -n "${get_terminal_height}"\
        '/var/log/apache2/access_log'
}

tail_apache2_error_log() {
    die_if_args
    run_as_superuser tail -f -n "${get_terminal_height}"\
        '/var/log/apache2/error_log'
}

# --------------------( COPYRIGHT AND LICENSE              )--------------------
# The information below applies to everything in this distribution,
# except where noted.
#              
# Copyright 2007-2013 by Cecil Curry.
#   
#   http://www.raiazome.com
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.
